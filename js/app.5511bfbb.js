(function(e){function t(t){for(var a,o,i=t[0],c=t[1],u=t[2],d=0,h=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&h.push(s[o][0]),s[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(h.length)h.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,i=1;i<n.length;i++){var c=n[i];0!==s[c]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},s={app:0},r=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},10:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},4678:function(e,t,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=r,e.exports=s,s.id="4678"},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("fragment",[e.error?[1==e.error?n("Loader",[n("p",[n("b",[e._v("For work, you need to switch the network.")])])]):2==e.error?n("Loader",[n("p",[e._v("Not found account")])]):3==e.error?n("Loader",[n("div",[n("p",[e._v("No access to account")]),e.isRequest?n("p",[e._v(" Try to refresh browser page or "),n("button",{on:{click:e.requestAccount}},[e._v("request account")]),e._v(". ")]):e._e()])]):n("Loader",[n("p",[n("b",[e._v(" Please, setup: "),n("a",{staticClass:"t-style_uppercase",attrs:{href:"https://metamask.io/",target:"_blank"}},[e._v("Metamask")])])])])]:e.isReady?n("Wrapp",{attrs:{networkId:e.networkId,account:e.account,web3:e.getWeb3()}},[n("router-view")],1):[n("Loader")]],2)},r=[],o=n("5530"),i=n("2f62"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("fragment",[e.isReadyRobonomics?e._t("default"):n("Loader")],2)},u=[],l=(n("96cf"),n("1da1")),d=n("4aac"),h=n.n(d),p=null;function f(e,t,n){return p=new h.a(Object(o["a"])({web3:t,messageProvider:new d["MessageProviderIpfs"](n)},e)),p}var m,b=function(){if(null===p)throw new Error("Robonomics not init");return p},v=(n("99af"),n("d3b7"),n("3ca3"),n("ddb0"),n("bc3a")),g=n.n(v),w={AUCTION_API:"https://auction.gaka-chu.online",MARKET_MODEL:"QmWZsRae58t2jnVcHaUBYrWMdaM6vwvpSs264Cmg3MrwY6",PRICE_STEP:1e9,PRICE_MIN:5e9,INFURA_KEY:"ceec7d81fbdb41e8b8b9e7c27ab91c79",IPFS_GATEWAY:"",TOKEN_SYMBOL:"XRT",TOKEN_DECIMALS:9},_=(n("b64b"),{1:{ROBONOMICS:{ens:"",ensSuffix:"eth",lighthouse:"airalab.lighthouse.5.robonomics.eth"},TOKEN:"0x7dE91B204C1C737bcEe6F000AAA6569Cf7061cb7",TOKEN_SYMBOL:"XRT",TOKEN_DECIMALS:9}});function k(e){m=e}function y(){if(m)return _[m];throw new Error("Chain not selected")}function j(){return Object.keys(_)}var x={set:k,get:y,getListId:j},T=Object(o["a"])(Object(o["a"])({},w),{},{chain:x}),S=null;function O(e){return E.apply(this,arguments)}function E(){return E=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,window.Ipfs.create(t);case 2:return n=e.sent,e.next=5,n.id();case 5:return a=e.sent,console.log("ipfs id "+a.id),window.ipfs=n,S=n,e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}function C(e){return new Promise((function(t,n){var a=document.createElement("script");a.src=e,a.onload=t,a.onerror=n,document.body.appendChild(a)}))}function N(e){return A.apply(this,arguments)}function A(){return A=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!window.ipfs||!window.ipfs.enable){e.next=15;break}return e.prev=1,e.next=4,window.ipfs.enable({commands:t.permission});case 4:return n=e.sent,e.next=7,n.id();case 7:return S=n,e.abrupt("return",S);case 11:return e.prev=11,e.t0=e["catch"](1),console.warn(e.t0),e.abrupt("return",C(t.cdn).then((function(){return O(t.fallback)})));case 15:return console.warn("not ipfs"),e.abrupt("return",C(t.cdn).then((function(){return O(t.fallback)})));case 17:case"end":return e.stop()}}),e,null,[[1,11]])}))),A.apply(this,arguments)}n("4de4"),n("4160"),n("caad"),n("c975"),n("a15b"),n("fb6a"),n("b0c0"),n("2af1"),n("ac1f"),n("25f0"),n("2532"),n("466d"),n("1276"),n("159b");var I={numToString:function(e){var t=Math.sign(e);if(e=Math.abs(e),/\d+\.?\d*e[+-]*\d+/i.test(e)){var n="0",a=String(e).toLowerCase().split("e"),s=a.pop(),r=Math.abs(s),o=s/r,i=a[0].split(".");if(-1===o)r-=i[0].length,e=r<0?i[0].slice(0,r)+"."+i[0].slice(r)+(2===i.length?i[1]:""):n+"."+new Array(r+1).join(n)+i.join("");else{var c=i[1];c&&(r-=c.length),e=r<0?i[0]+c.slice(0,r)+"."+c.slice(r):i.join("")+new Array(r+1).join(n)}}return String(t<0?"-"+e:e)},toWei:function(e,t){"number"===typeof e&&(e=this.numToString(e));var n=b(),a=n.web3.utils.BN,s=new a(t),r=new a(10).pow(s),o=r.toString(10).length-1||1,i=e.toString().split("."),c=i[0],u=i[1];c||(c="0"),u||(u="0");while(u.length<o)u+="0";c=new a(c),u=new a(u);var l=c.mul(r).add(u);return l.toString(10)},fromWei:function(e,t){"number"===typeof e&&(e=this.numToString(e));var n=b(),a=n.web3.utils.BN,s=new a(e),r=new a(t),o=new a(10).pow(r),i=o.toString(10).length-1||1,c=s.mod(o).toString(10);while(c.length<i)c="0".concat(c);c=c.match(/^([0-9]*[1-9]|0)(0*)/)[1];var u=s.div(o).toString(10);return"".concat(u).concat("0"==c?"":".".concat(c))}};function R(e,t,n){return M.apply(this,arguments)}function M(){return M=Object(l["a"])(regeneratorRuntime.mark((function e(t,n,a){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.pubsub.peers(n);case 2:return s=e.sent,r={required:[],other:[]},s.forEach((function(e){a.includes(e)?r.required.push(e):r.other.push(e)})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),M.apply(this,arguments)}function P(e,t,n){return L.apply(this,arguments)}function L(){return L=Object(l["a"])(regeneratorRuntime.mark((function e(t,n,a){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s="airalab.lighthouse.5.robonomics.eth",n.lighthouse&&(s=n.lighthouse.name),e.next=4,R(t,s,a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}function B(e,t){var n=e.filter((function(e){return-1===t.indexOf(e)})),a=t.filter((function(t){return-1===e.indexOf(t)}));return n.concat(a)}var F=null,D=[];function G(e,t,n){return W.apply(this,arguments)}function W(){return W=Object(l["a"])(regeneratorRuntime.mark((function e(t,n,a){var s,r,o,i,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=c.length>3&&void 0!==c[3]?c[3]:0,e.prev=1,e.next=4,P(t,n,a);case 4:r=e.sent,i=r.required.length,o=i===a.length?"fine":0===i?"required peers not found":"ok. found part of required peers",0===s?console.log(o,r):(F!==o||"ok. found part of required peers"===o&&B(r.required,D).length>0)&&(F=o,D=r.required,console.log(o,r)),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),console.log(e.t0.message);case 13:s>0&&setTimeout((function(){G(t,n,a,s)}),s);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),W.apply(this,arguments)}var $={ipfs:{fallback:{repo:"ipfs/robonomics/4",relay:{enabled:!0,hop:{enabled:!0}},config:{Addresses:{Swarm:["/dns4/1.webrtcstar.aira.life/tcp/443/wss/p2p-webrtc-star/","/dns4/2.webrtcstar.aira.life/tcp/443/wss/p2p-webrtc-star/","/dns4/3.webrtcstar.aira.life/tcp/443/wss/p2p-webrtc-star/"]},Bootstrap:["/dns4/ams-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLer265NRgSp2LA3dPaeykiS1J6DifTC88f5uVQKNAd","/dns4/lon-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLMeWqB7YGVLJN3pNLQpmmEk35v6wYtsMGLzSr5QBU3","/dns4/nyc-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLueR4xBeUbY9WZ9xGUUxunbKWcrNFTDAadQJmocnWm","/dns4/nyc-2.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLV4Bbm51jM9C4gDYZQ9Cy3U6aXMJDAbzgu2fzaDs64","/dns4/node0.preload.ipfs.io/tcp/443/wss/ipfs/QmZMxNdpMkewiVZLMRxaNxUeZpDUb34pWjZ1kZvsd16Zic","/dns4/node1.preload.ipfs.io/tcp/443/wss/ipfs/Qmbut9Ywz9YEDrz8ySBSgWyJk41Uvm2QJPhwDJzJyGFsD6","/dns4/1.pubsub.aira.life/tcp/443/wss/ipfs/QmdfQmbmXt6sqjZyowxPUsmvBsgSGQjm4VXrV7WGy62dv8","/dns4/2.pubsub.aira.life/tcp/443/wss/ipfs/QmPTFt7GJ2MfDuVYwJJTULr6EnsQtGVp8ahYn9NSyoxmd9","/dns4/3.pubsub.aira.life/tcp/443/wss/ipfs/QmWZSKTEQQ985mnNzMqhGCrwQ1aTA6sxVsorsycQz9cQrw"]}},cdn:"https://unpkg.com/ipfs@0.52.0/dist/index.min.js",permission:["id","files.cat","files.add","pubsub.peers","pubsub.publish","pubsub.subscribe","swarm.peers","swarm.connect"]},statusPeers:["QmdfQmbmXt6sqjZyowxPUsmvBsgSGQjm4VXrV7WGy62dv8","QmPTFt7GJ2MfDuVYwJJTULr6EnsQtGVp8ahYn9NSyoxmd9","QmWZSKTEQQ985mnNzMqhGCrwQ1aTA6sxVsorsycQz9cQrw"]};function K(e){var t=e.ipfs,n=e.robonomics,a=e.statusPeers;$={ipfs:Object(o["a"])(Object(o["a"])({},$.ipfs),{},{fallback:t.fallback||$.ipfs.fallback,permission:t.permission||$.ipfs.permission}),statusPeers:a||$.statusPeers,robonomics:n||function(){throw new Error("bad config")}}}var z=function(){return $},Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loading-screen"},[n("div",{staticClass:"loading-logo"},[n("svg",{staticClass:"logo-robonomics",staticStyle:{"enable-background":"new 0 0 196.9 170.3"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"196.9px",height:"170.3px",viewBox:"0 0 196.9 170.3","xml:space":"preserve"}},[n("g",{attrs:{transform:"translate(2530 155)"}},[n("path",{staticClass:"line",attrs:{d:"M-2523.4,7.9l184.2,0.5l-91.7-158.1L-2523.4,7.9z"}}),n("circle",{staticClass:"dot",attrs:{cx:"-2339.7",cy:"8.7",r:"6.6"}}),n("circle",{staticClass:"dot",attrs:{cx:"-2523.4",cy:"8.2",r:"6.6"}}),n("circle",{staticClass:"dot",attrs:{cx:"-2430.8",cy:"-148.4",r:"6.6"}}),n("path",{staticClass:"triangle-1",attrs:{d:"M-2477.3-18.3l92.1,0.3l-45.8-79L-2477.3-18.3z"}}),n("path",{staticClass:"triangle-2",attrs:{d:"M-2431.2-18.1l46,0.1l-45.8-79L-2431.2-18.1z"}}),n("path",{staticClass:"triangle-3",attrs:{d:"M-2477.3-18.3l92.1,0.3l-46-20.3L-2477.3-18.3z"}})])])]),n("h1",[e._v("robonomics.network dapp")])])},q=[],Y=(n("77c1"),n("2877")),U={},J=Object(Y["a"])(U,Q,q,!1,null,"1dd63268",null),V=J.exports,H={props:["networkId","account","web3"],components:{Loader:V},data:function(){return{isReadyRobonomics:!1}},watch:{account:function(e,t){var n=this;this.$robonomics&&null===t&&e?(this.isReadyRobonomics=!1,this.$robonomics.initAccount({address:e}),setTimeout((function(){n.isReadyRobonomics=!0}),300)):null!==t&&e!==t&&window.location.reload(!1)}},created:function(){this.init(z())},methods:{init:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var s,r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=e.robonomics(t.networkId),n.next=3,N(e.ipfs);case 3:return a["default"].prototype.$ipfs=n.sent,n.next=6,t.$ipfs.id();case 6:return r=n.sent,/go/i.test(r.agentVersion)&&t.$ipfs.swarm.connect("/dnsaddr/bootstrap.aira.life",console.log),o=t.account?{address:t.account}:null,a["default"].prototype.$robonomics=f({account:o,ens:{address:s.ens,suffix:s.ensSuffix,version:s.version},lighthouse:s.lighthouse},t.web3,t.$ipfs),n.next=12,t.$robonomics.ready();case 12:t.isReadyRobonomics=!0,window.statusPeers=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;console.log("Peers search",e.statusPeers),G(t.$ipfs,t.$robonomics,e.statusPeers,n)};case 14:case"end":return n.stop()}}),n)})))()}}},Z=H,X=Object(Y["a"])(Z,c,u,!1,null,null,null),ee=X.exports,te={components:{Wrapp:ee,Loader:V},computed:Object(o["a"])({},Object(i["b"])("chain",["error","isReady","networkId","account","getWeb3"])),watch:{networkId:function(e,t){null!==t&&e!==t&&window.location.reload(!1)}},created:function(){this.$store.dispatch("chain/init",T.chain.getListId())},methods:{requestAccount:function(){this.$store.dispatch("chain/accessAccount")}}},ne=te,ae=Object(Y["a"])(ne,s,r,!1,null,null,null),se=ae.exports,re=n("8c4f"),oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Page",[n("div",[n("v-container",{staticStyle:{"max-width":"1170px",margin:"0 auto"},attrs:{"grid-list-lg":"","text-xs-center":""}},[n("v-row",{attrs:{justify:"center"}},e._l(e.cells,(function(t,a){return n("v-col",{key:a,staticClass:"pa-6",attrs:{cols:"12",md:"4"}},["coming"===t.status?n("v-card",{staticStyle:{background:"#fff","box-shadow":"0 2px 10px #e2e2e2","text-align":"center"}},[n("v-card-text",{staticClass:"px-0"},[n("img",{staticStyle:{width:"100%"},attrs:{src:"assets/i/"+t.name+".jpg"}}),n("h3",{staticStyle:{"text-transform":"uppercase",margin:"10px"}},[e._v(" "+e._s(t.name)+" ")]),n("br"),e._v(" Acrylic, canvas, 40cmx50cm "),n("v-divider",{staticStyle:{margin:"5px"}}),n("b",[e._v("Coming soon")]),n("v-divider",{staticStyle:{margin:"5px"}}),e._v(" Start day: "+e._s(t.dateStart)+" ")],1)],1):"stop"===t.status||"finish"===t.status||"close"===t.status?n("v-card",{staticStyle:{background:"#fff","box-shadow":"0 2px 10px #e2e2e2","text-align":"center"},attrs:{to:"/auction/"+t.id}},[n("v-card-text",{staticClass:"px-0"},[n("img",{staticStyle:{width:"100%"},attrs:{src:"assets/i/"+t.name+".jpg"}}),n("h3",{staticStyle:{"text-transform":"uppercase",margin:"10px"}},[e._v(" "+e._s(t.name)+" ")]),n("v-btn",{staticStyle:{margin:"15px",width:"80%",height:"auto",padding:"15px"},attrs:{to:"/auction/"+t.id,color:"blue-grey lighten-2"}},[e._v("RESULT")]),n("br"),e._v(" Acrylic, canvas, 40cmx50cm "),n("v-divider",{staticStyle:{margin:"5px"}}),n("b",{staticClass:"orange--text"},[e._v("Auction finished!")]),n("v-divider",{staticStyle:{margin:"5px"}}),e._v(" End: "+e._s(t.dateEnd)+" "),n("v-divider",{staticStyle:{margin:"5px"}}),e._v(" Highest bid - "+e._s(t.cost)+" "),n("br"),n("b",[e._v(" By: "),n("span",{attrs:{title:t.account}},[e._v(" "+e._s(e._f("labelAddress")(t.account))+" ")]),e.$robonomics.account&&t.account===e.$robonomics.account.address?[e._v(" (your bid) ")]:e._e()],2)],1)],1):n("v-card",{staticStyle:{background:"#fff","box-shadow":"0 2px 10px #e2e2e2","text-align":"center"},attrs:{to:"/auction/"+t.id}},[n("v-card-text",{staticClass:"px-0"},[n("div",{staticClass:"frame"},[n("img",{staticStyle:{width:"100%"},attrs:{src:"assets/i/"+t.name+".jpg"}})]),n("h3",{staticStyle:{"text-transform":"uppercase",margin:"10px"}},[e._v(" "+e._s(t.name)+" ")]),n("v-btn",{staticStyle:{margin:"15px",width:"80%",height:"auto",padding:"15px"},attrs:{to:"/auction/"+t.id,color:"success"}},[e._v("BID")]),n("br"),e._v(" Acrylic, canvas, 40cmx50cm "),n("v-divider",{staticStyle:{margin:"5px"}}),n("b",{staticClass:"green--text"},[e._v("Auction started!")]),n("v-divider",{staticStyle:{margin:"5px"}}),e._v(" End: "+e._s(t.dateEnd)+" "),n("v-divider",{staticStyle:{margin:"5px"}}),e._v(" Highest bid - "+e._s(t.cost)+" "),n("br"),n("b",[e._v(" By: "),n("span",{attrs:{title:t.account}},[e._v(" "+e._s(e._f("labelAddress")(t.account))+" ")]),e.$robonomics.account&&t.account===e.$robonomics.account.address?[e._v(" (your bid) ")]:e._e()],2)],1)],1)],1)})),1)],1)],1)])},ie=[],ce=(n("a9e3"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"inspire"}},[n("header",{attrs:{role:"banner"}},[n("div",{staticClass:"secw-narrow"},[n("div",{attrs:{id:"header-logo"}},[n("router-link",{attrs:{to:"/"}},[n("img",{staticClass:"img-block",attrs:{alt:"",src:"assets/i/logo.svg"}})])],1)])]),n("v-main",{staticStyle:{"margin-bottom":"50px"}},[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[n("v-flex",{staticStyle:{"text-align":"center"},attrs:{md12:""}},[n("a",{on:{click:function(t){e.dialog=!0}}},[n("img",{attrs:{src:"assets/i/manifest.png",width:"60%"}})]),n("v-card-text",[n("p",{staticClass:"text"},[e._v(' The physical autonomy of robots is well understood both theoretically and practically. By contrast, there is almost no research exploring their potential economic autonomy. In this paper, we present the first economically autonomous robot — a robot able to produce marketable goods while having full control over the use of its generated income. Gaka-chu ("painter" in Japanese) is a 6-axis robot arm that creates artistic paintings of Japanese kanjis from an autoselected keyword. By using a blockchain-based smart contract, Gaka-chu can autonomously list a painting it made for sale in an online auction. In this transaction, the robot interacts with the human bidders as a peer not as a tool. Using the blockchain-based smart contract, Gaka-chu can then use its income from selling paintings to replenish its resources by autonomously ordering materials from an online art shop, and maintain its activity by remunerating a human assistant for manual tasks such as placing canvases. We built the Gaka-chu prototype with an Ethereum-based smart contract and ran a 6-month long experiment, during which the robot painted and sold four paintings one-by-one, simultaneously using its income to purchase art supplies, human assistance, and paid initial investors. In this work, we present the results of the experiments conducted and discuss the implications of economically autonomous robots. ')])]),n("div",{staticClass:"media"},[n("iframe",{attrs:{width:"560",height:"315",src:"https://www.youtube.com/embed/l7NIBH861Uk",title:"Gaka-chu: a self-employed autonomous robot artist (IEEE ICRA 2023)",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})]),n("div",{staticClass:"logo"},[n("h2",[e._v("Software Architecture of Gaka-chu")])]),n("div",{staticClass:"text"},[n("div",{staticClass:"media"},[n("img",{attrs:{src:"assets/i/gaka-chu-ros-nodes.png",width:"120%"}}),n("p",[e._v(" Figure 1. Information flow for the Gaka-chu implementation. "),n("a",{attrs:{href:"https://www.ros.org/",target:"_blank"}},[e._v("ROS")]),e._v(" nodes and topics are shown with black rectangles and white ovals, respectively. Interaction with external devices and services is shown with dashed arrows. ")])]),n("p",[e._v(" Fig. 1 shows the information flow of the Gaka-chu implementation, including actions such as drawing, filming, NFT (non-fungible token) minting, auction opening, and buying. Most of these actions are implemented as ROS nodes that exchange information using the "),n("a",{attrs:{href:"https://www.ros.org",target:"_blank"}},[e._v("ROS")]),e._v(" topics framework. The information workflow for a drawing job proceeds as follows: ")]),n("ol",[n("li",[e._v(" The "),n("samp",[e._v("rs_camera")]),e._v(" node receives data (e.g., dimensions of the canvas, coordinates of its center) needed to transform the coordinates. Then, the "),n("samp",[e._v("rs_camera")]),e._v(" node sends the transformed coordinates to the "),n("samp",[e._v("picture_preprocessing")]),e._v(" and LTP (Local Task Planner) nodes. ")]),n("li",[e._v(" The topic "),n("samp",[e._v("/run")]),e._v(", to which the LTP node is subscribed, receives a link to the image to be painted. ")]),n("li",[e._v(" The LTP node sends a service call to the "),n("samp",[e._v("picture_preprocessing")]),e._v(" node for getting trajectories from the image. ")]),n("li",[e._v(" The image is processed in several steps. First, the 2D coordinates of the strokes forming each kanji character are calculated. Second, a logo for the NFT is generated. Third, the results are saved in a rosbag file. ")]),n("li",[e._v(" The LTP node calculates the actions needed to paint the defined strokes. ")]),n("li",[e._v(" The LTP node starts sending commands to the KUKA robot arm, and a "),n("samp",[e._v("'start'")]),e._v(" message is sent to the topic "),n("samp",[e._v("/film")]),e._v(" to trigger the "),n("samp",[e._v("video_saver")]),e._v(" node to start recording. ")]),n("li",[e._v(" After the robot finishes all painting actions, the LTP node sends the "),n("samp",[e._v("'stop")]),e._v(" message to the "),n("samp",[e._v("/film")]),e._v(" topic. This triggers the video recording to stop and the resulting video file (in mp4 format) to be stored. The "),n("samp",[e._v("nft_minter")]),e._v(" node also receives the "),n("samp",[e._v("'stop'")]),e._v(" message from the LTP node, which triggers the "),n("samp",[e._v("nft_minter")]),e._v(" node to collect the files generated in the painting process (e.g., robot trajectories, NFT logo, video) and upload them to the IPFS network. ")]),n("li",[e._v(" The "),n("samp",[e._v("nft_minter")]),e._v(" node performs a transaction in the Ethereum network to mint an NFT of the completed painting. ")]),n("li",[e._v(" The "),n("samp",[e._v("nft_minter")]),e._v(" node opens an auction in an NFT marketplace to sell the newly minted NFT token. ")]),n("li",[e._v(" The "),n("samp",[e._v("consumables_orderer")]),e._v(" node checks the number of remaining consumables (e.g., canvases). ")]),n("li",[e._v(" If the stock counter for any consumable reaches the level needed for one new painting (e.g., one canvas), the "),n("samp",[e._v("consumables_orderer")]),e._v(" node generates a "),n("samp",[e._v("demand")]),e._v("message for ordering supplies (e.g., canvases, paints, and brushes). The "),n("samp",[e._v("demand")]),e._v(" message specifies the needed items and their quantities. ")]),n("li",[e._v(" The "),n("samp",[e._v("demand")]),e._v(" message passes through the "),n("a",{attrs:{href:"https://robonomics.network/",target:"_blank"}},[e._v("Robonomics")]),e._v(" node and is sent to the IPFS network. The order is received by the online art shop. ")]),n("li",[e._v(" After the purchase is completed, tokens are debited from Gaka-chu's wallet and credited to the wallet of the online art shop. ")]),n("li",[e._v(" Gaka-chu uses the tokens obtained from the NFT auction to pay for supplies, pay for human assistance, and pay back initial investors. ")])])]),n("div",{staticClass:"logo"},[n("h2",[e._v("Using NFTs to Conduct an Auction")])]),n("div",{staticClass:"text"},[n("p",[e._v(" NFTs are unique tokens that cannot be copied or divided. NFTs have become very popular in digital art because they can be used as a certificate of the uniqueness of a digital object and can be used to transfer the property rights of a digital or physical asset. As a result, marketplace platforms have emerged for exchanging NFTs and putting them up for auction ("),n("a",{attrs:{href:"https://opensea.io/",target:"_blank"}},[e._v("OpenSea")]),e._v(", "),n("a",{attrs:{href:"https://rarible.com/",target:"_blank"}},[e._v("Rarible")]),e._v(", "),n("a",{attrs:{href:"https://makersplace.com/",target:"_blank"}},[e._v("MakersPlace")]),e._v(" ). In the case of Gaka-chu, potential buyers can purchase an NFT minted by Gaka-chu (and therefore digital ownership of the respective artwork) on the "),n("a",{attrs:{href:"https://rarible.com/gakachu",target:"_blank"}},[e._v("Rarible")]),e._v(" platform. The process of minting an NFT is like the issuance of a regular token, except that an NFT token is unique and indivisible. To mint an NFT for an asset, all of the asset's data needs to be used as input in a cryptographic process. Gaka-chu creates an NFT using the "),n("a",{attrs:{href:"https://eips.ethereum.org/EIPS/eip-721",target:"_blank"}},[e._v("ERC-721")]),e._v(" standard and manages the online auctions using the SDK of the Rarible platform. ")]),n("p",[e._v(" As described above, Gaka-chu uses the "),n("samp",[e._v("nft_minter")]),e._v(" node to mint an NFT. This node uses the data generated during the painting process as input. These data contain the IPFS hashes of all files resulting from the painting process (e.g., a "),n("samp",[e._v("rosbag")]),e._v(" file with the joint trajectories needed to paint the kanji strokes, an image of the finished painting and the video of the entire drawing process). Including these data in the minting process proves ownership of the physical painting and makes it viable to use an NFT as way to transfer the digital rights of the artwork created. Gaka-chu's NFT minting process proceeds as follows: ")]),n("ol",[n("li",[e._v(" The "),n("samp",[e._v("picture_preprocessing")]),e._v(" node creates a PNG image file based on the respective keyword and saves it to Gaka-chu's internal file system. A low-resolution version of this file will be used as the NFT logo. Simultaneously, a "),n("samp",[e._v("rosbag")]),e._v(" file with the robot joint trajectories is created. ")]),n("li",[e._v(" The "),n("samp",[e._v("/video_saver")]),e._v(" node records the entire painting process in MP4 format and saves the resultant file in the internal file system. ")]),n("li",[e._v(" The "),n("samp",[e._v("/nft_minter")]),e._v(" node listens to the topic "),n("samp",[e._v("/film")]),e._v(" and waits until the "),n("samp",[e._v("'stop'")]),e._v(" message s received. After receiving the message, the node outputs the resultant painting files ("),n("samp",[e._v(".bag")]),e._v(", "),n("samp",[e._v(".png")]),e._v(", "),n("samp",[e._v(".mp4")]),e._v(") and uploads them to the IPFS file system. ")]),n("li",[e._v(" The "),n("samp",[e._v("/nft_minter")]),e._v(" node creates a data file with the IPFS hashes of the files uploaded in the previous step. This file is uploaded to IPFS as well. ")]),n("li",[e._v(" The "),n("samp",[e._v("/nft_minter")]),e._v(" node mints the NFT by accessing the ERC-721 pre-deployed contract in Rarible. The transaction is signed with Gaka-chu's unique private key and sent back to the network as a confirmation. Gaka-chu includes information such as its own Ethereum address, the description of the artwork, and the hashes of the files uploaded in step 3. ")]),n("li",[e._v(" Rarible detects the generated NFT and parses the information sent by Gaka-chu, publishing all the artwork results for viewing on the marketplace platform. ")]),n("li",[e._v(" The "),n("samp",[e._v("nft_minter")]),e._v(" node launches an auction for the newly minted NFT by using the Rarible SDK. When launching the auction, the node specifies the following fields: the address of the NFT in the network, Gaka-chu's address, the starting price, and the closing date of the auction. ")]),n("br")])]),n("div",{staticClass:"logo"},[n("h2",[e._v(" Ordering consumables at the online art shop via Robonomics ")])]),n("div",{staticClass:"text"},[n("p",[e._v(' When Gaka-chu runs low on art supplies (e.g., canvases, brushes, paint) it immediately orders a restock from an online art shop that accepts payments in cryptocurrency. The ordering process with the art shop is organized through the creation of a cryptographic "promisee-promisor" relationship between Gaka-chu and the art shop system. This agreement is based on the '),n("a",{attrs:{href:"https://www.researchgate.net/profile/Aleksandr-Kapitonov/publication/336642043_Robonomics_platform_for_integration_of_cyber_physical_systems_into_human_economy_For_engineers_smart_cities_and_Industry_40_creators/links/5da9955092851c577eb82491/Robonomics-platform-for-integration-of-cyber-physical-systems-into-human-economy-For-engineers-smart-cities-and-Industry-40-creators.pdf",target:"_blank"}},[e._v("Robonomics standard")]),e._v(" that can be executed on the Ethereum network. In this situation, Gaka-chu acts as a promisee (i.e., customer of the service under the contract) and the art shop agent acts as a promisor (i.e, service provider under the contract). The ordering process proceeds as follows: ")]),n("ol",[n("li",[e._v(" Gaka-chu generates a "),n("samp",[e._v("demand")]),e._v(" message, which includes the specific items to be bought and the quantities of those items. ")]),n("li",[e._v(" The "),n("samp",[e._v("demand")]),e._v(" message is sent to the art shop and received by a ROS node managing their incoming orders. ")]),n("li",[e._v(" In case the order is accepted by the art shop, an "),n("samp",[e._v("offer")]),e._v(" message is sent to Gaka-chu with the same information that was included in the "),n("samp",[e._v("demand")]),e._v(" message. ")]),n("li",[e._v(" The Robonomics node creates a smart contract that acts as an intermediary between the Gaka-chu and the art shop. This smart contract creates “liability” and guarantees between the parties. ")]),n("li",[e._v(" The required number of tokens is debited from Gaka-chu's wallet and blocked until the order is completed. ")]),n("li",[e._v(" The art shop agent sends a finalization message and the tokens debited in step 5 are sent to the art shop's address, minus a network fee. ")])]),e._v(" The Ethereum addresses of participating nodes and smart contracts are: "),n("ol",[n("li",[e._v(" Gaka-chu - "),n("samp",[e._v("0xCc3672C869c923B90F2C1BfbA2C7801e3924114A ")])]),n("li",[e._v(" Art shop agent - "),n("samp",[e._v(" 0x128Fba3E5315118ba075f591b54F8139193663a5 ")])]),n("li",[e._v(" Liability contract - "),n("samp",[e._v(" 0x94ce20E486CCA74df5f9E69eb6D522c997BFBBc9 ")])]),n("br")])]),n("div",{staticClass:"logo"},[n("h2",[e._v("Links to code repositories")]),n("v-simple-table",[n("thead",[n("tr",[n("th",[e._v("Name")]),n("th",[e._v("Type")]),n("th",[e._v("Link")])]),n("tr",[n("td",[e._v("Gaka-chu software repositories")]),n("td",[e._v("repos")]),n("td",[n("a",{attrs:{href:"https://github.com/Multi-Agent-io/gaka-chu.online",target:"_blank"}},[e._v("Link")])])])])])],1),n("div",{staticClass:"logo"},[n("h2",[e._v("Videos")])]),n("div",{staticClass:"media"},[n("iframe",{attrs:{width:"560",height:"315",src:"https://www.youtube.com/embed/xSD_lsrAA0I",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}),n("p",[e._v("Gaka-chu draws Twitter trending words from hashtags")])]),n("div",{staticClass:"media"},[n("iframe",{attrs:{width:"560",height:"315",src:"https://www.youtube.com/embed/gQHtsI2Kfv4",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}),n("p",[e._v("First launches of Gaka-chu")])]),n("div",{staticClass:"logo"},[n("h2",[e._v("Photos")])]),n("div",{staticClass:"media"},[n("img",{attrs:{src:"assets/i/gakachu-firsts-steps.jpg",width:"100%"}}),n("p",[e._v("First steps of Gaka-chu")])]),n("div",{staticClass:"media"},[n("img",{attrs:{src:"assets/i/gakachu-old-room.png",width:"100%"}}),n("p",[e._v("The first drawing room for Gaka-chu in Tolyatti")])]),n("div",{staticClass:"media"},[n("img",{attrs:{src:"assets/i/gakachu-old-work.jpg",width:"100%"}}),n("p",[e._v("Gaka-chu is working in the old drawing room, Tolyatti")])]),n("div",{staticClass:"media"},[n("img",{attrs:{src:"assets/i/gaka-chu-new-room.jpg",width:"100%"}}),n("p",[e._v("Gaka-chu in a new place, St. Petersburg")])]),n("div",{staticClass:"media"},[n("img",{attrs:{src:"assets/i/gakachu-new-work.jpg",width:"100%"}}),n("p",[e._v('Completed work with the phrase "Women\'s History Month"')])]),n("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-text",{staticStyle:{"padding-top":"20px"}},[n("h3",[e._v("Manifesto")]),n("p",[e._v(" Developing technologies in the field of machine learning and neural networks allow robotized systems to show previously unattainable results in control and collaboration with humans. Robots are slowly beginning to work in close proximity with humans, and due to blockchain technologies, they also become direct participants in our economy. Gaka-chu is an independent economic agent thanks to robonomics contracts. Gaka-chu is able to generate images independently, but has no rights to its works. In this regard, We, group of ITMO students led by Alexandr Kapitonov, PhD, Dean of the Faculty of Infocommunication Technologies, give up the rights to works created by the robot-artist “Gaka-chu”. ")])])],1)],1)],1)],1)],1)],1),n("v-footer",{staticClass:"pa-1",staticStyle:{height:"auto","border-top":"1px solid #dedede"},attrs:{fixed:""}},[n("v-spacer"),n("div",[n("b",[e._v("Troubleshooting")]),e._v(": If dapp is not loading or part of data is missing try to connect metamask with other public node. "),n("a",{attrs:{href:"https://wiki.robonomics.network/",target:"_blank"}},[e._v("Look into tech documentation")]),e._v(" and try to find other answers. "),n("a",{attrs:{href:"https://github.com/airalab/robonomics-js/issues/new",target:"_blank"}},[e._v("Open issue on GitHub")])])],1)],1)}),ue=[],le={name:"App",data:function(){return{dialog:!1}},created:function(){this.$robonomics.account&&(this.$store.dispatch("tokens/add",T.chain.get().TOKEN),this.$store.dispatch("tokens/watchBalance",{token:T.chain.get().TOKEN,account:this.$robonomics.account.address}))}},de=le,he=(n("d4a2"),Object(Y["a"])(de,ce,ue,!1,null,null,null)),pe=he.exports,fe=n("dd61"),me=n.n(fe),be=n("d4ec"),ve=n("bee2"),ge=n("8e27"),we=n.n(ge),_e=function(){function e(){var t=this;Object(be["a"])(this,e),this.isReady=!1,this.connection=!1,this.socket=we()(T.AUCTION_API),this.socket.on("connect_error",(function(){t.connection=!1})),this.socket.on("error",(function(e){console.warn(e)})),this.init().then((function(){t.isReady=!0}))}return Object(ve["a"])(e,[{key:"init",value:function(){var e=this;return new Promise((function(t){e.socket.on("connect",(function(){console.log("connect"),e.connection=!0,t()}))}))}},{key:"ready",value:function(){var e=this;return new Promise((function(t){var n=setInterval((function(){e.isReady&&(t(),clearInterval(n))}),100)}))}},{key:"on",value:function(e,t){this.socket.on(e,t)}}]),e}(),ke=new _e,ye=(n("d81d"),n("c1df")),je=n.n(ye),xe=function(e){return je()(e,"YYYY-MM-DD HH:mm:ss").format("MMM DD, hh:mmA Z")},Te={components:{Page:pe},data:function(){return{cells:[]}},created:function(){var e=this,t=function(t){e.cells=me()(t,(function(e){return Object(o["a"])(Object(o["a"])({},e),{},{dateStart:xe(e.dateStart),dateEnd:xe(e.dateEnd),cost:"".concat(I.fromWei(Number(e.cost),T.TOKEN_DECIMALS).toString()," XRT")})}))};ke.on("list",(function(e){t(e)})),g.a.get(T.AUCTION_API+"/list").then((function(e){t(e.data.result)}))}},Se=Te,Oe=(n("d340"),Object(Y["a"])(Se,oe,ie,!1,null,"198d4cc6",null)),Ee=Oe.exports,Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Page",[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[n("v-flex",{attrs:{md12:"",lg8:""}},[n("v-card",[n("v-card-title",{attrs:{"primary-title":""}},[n("h1",{staticClass:"mb-0 text-md-center"},[e._v(e._s(e.title))])]),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("iframe",{directives:[{name:"show",rawName:"v-show",value:e.vid,expression:"vid"}],staticStyle:{margin:"0 auto",display:"block",width:"100%"},attrs:{width:"560",height:"315",src:e.video,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})])],1)],1),n("div",{staticClass:"mb-5"},[e._v(" Start auction: "+e._s(e.dateStart)),n("br"),e._v(" End auction: "+e._s(e.dateEnd)),n("br"),e._v(" Last bid: "),n("b",[e._v(e._s(e.bid))]),n("br"),e.account?n("span",[e._v("by "+e._s(e.account))]):e._e(),n("br"),e.liability?n("span",[e._v("Liability: "),n("a",{attrs:{href:"https://kovan.etherscan.io/address/"+e.liability}},[e._v(e._s(e.liability))])]):e._e()]),e.$robonomics.account?["auction"===e.status?n("Bid",{attrs:{objective:e.objective,minCost:e.minCost}}):e._e()]:n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.$store.dispatch("chain/accessAccount",!1)}}},[e._v(" Connect ethereum account ")])],2)],1)],1)],1)],1)],1)},Ne=[],Ae=(n("5319"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-text-field",{attrs:{rules:e.requireRule,label:"Amount",required:""},model:{value:e.price,callback:function(t){e.price=t},expression:"price"}})],1),n("div",[e._v(" Balance: "+e._s(e.balance.valueStr)+" / "+e._s(e.balanceEth.valueStr)+" "),e._m(0),e._v(" | Approved: "+e._s(e.approveTrade.valueStr)+" ")]),e.isApprove?[e.isApprove?n("v-btn",{staticClass:"ml-0",attrs:{loading:e.isLoadingApprove,disabled:e.isApproveDisabled,color:"warning"},nativeOn:{click:function(t){return e.sendApproveTrade(t)}}},[e._v(" Approve ")]):e._e(),e.tx?n("p",[n("b",[e._v("Watch Tx: ")]),n("a",{attrs:{href:"https://etherscan.io/tx/"+e.tx,target:"_blank"}},[e._v(e._s(e.tx))])]):e._e(),4===e.proccess?n("p",[n("b",[e._v("Success")])]):e._e()]:e._e(),e.isBid?n("v-btn",{staticClass:"ml-0",attrs:{loading:e.loadingOrder,disabled:e.isBidDisabled,color:"warning"},nativeOn:{click:function(t){return e.order(t)}}},[e._v("Bid")]):e._e()],2)}),Ie=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e._v(" (get xrt "),n("a",{attrs:{href:"https://app.uniswap.org/#/swap?inputCurrency=ETH&outputCurrency=0x7de91b204c1c737bcee6f000aaa6569cf7061cb7",target:"_blank"}},[e._v("uniswap")]),e._v(") ")])}],Re=n("99e5"),Me=n.n(Re),Pe={EMPTY:0,BTN:1,TX:2,SUCCESS:3,FINISH:4},Le={props:["minCost","objective"],data:function(){return{valid:!1,requireRule:[function(e){return!!e||"Field required"}],token:null,loadingOrder:!1,price:0,balanceEth:{value:new Me.a.utils.BN(0),valueStr:"0 ETH"},balance:{value:new Me.a.utils.BN(0),valueStr:"0 ".concat(T.TOKEN_SYMBOL)},approveTrade:{value:new Me.a.utils.BN(0),valueStr:"0 ".concat(T.TOKEN_SYMBOL)},market:T.MARKET_MODEL,proccess:Pe.EMPTY,tx:null}},computed:{isApprove:function(){return this.approveTrade.value.lt(new Me.a.utils.BN(String(I.toWei(this.price,T.TOKEN_DECIMALS))))},isLoadingApprove:function(){return this.proccess>0&&this.proccess<3},isApproveDisabled:function(){return this.isLoadingApprove||this.balance.value.lt(new Me.a.utils.BN(String(I.toWei(this.price,T.TOKEN_DECIMALS))))},isBid:function(){return this.approveTrade.value.gte(new Me.a.utils.BN(String(I.toWei(this.price,T.TOKEN_DECIMALS))))},isBidDisabled:function(){return this.loadingOrder||this.balance.value.lt(new Me.a.utils.BN(String(I.toWei(this.price,T.TOKEN_DECIMALS))))||!this.valid}},watch:{minCost:function(){var e=this;this.requireRule[1]=function(t){return new Me.a.utils.BN(String(I.toWei(t,T.TOKEN_DECIMALS))).gte(new Me.a.utils.BN(String(e.minCost)))||"Min ".concat(I.fromWei(e.minCost,T.TOKEN_DECIMALS))},this.price=I.fromWei(this.minCost,T.TOKEN_DECIMALS)}},created:function(){var e=this;this.requireRule.push((function(t){return new Me.a.utils.BN(String(I.toWei(t,T.TOKEN_DECIMALS))).gte(new Me.a.utils.BN(String(e.minCost)))||"Min ".concat(I.fromWei(e.minCost,T.TOKEN_DECIMALS))})),this.price=I.fromWei(this.minCost,T.TOKEN_DECIMALS),this.token=new d["Token"](this.$robonomics.web3,T.chain.get().TOKEN),this.fetchData().then((function(){console.log("xrt",e.$robonomics.xrt.address),console.log("factory",e.$robonomics.factory.address),console.log("lighthouse",e.$robonomics.lighthouse.address),e.$robonomics.onDemand(e.market,(function(e){console.log("demand",e)})),e.$robonomics.onOffer(e.market,(function(e){console.log("offer",e)}))}))},methods:{fetchData:function(){var e=this;return this.token.methods.balanceOf(this.$robonomics.account.address).call().then((function(t){return e.balance.value=new Me.a.utils.BN(t),e.balance.valueStr="".concat(I.fromWei(t,T.TOKEN_DECIMALS)," ").concat(T.TOKEN_SYMBOL),t>0&&e.token.methods.allowance(e.$robonomics.account.address,e.$robonomics.factory.address).call()})).then((function(t){t&&(e.approveTrade.value=new Me.a.utils.BN(t),e.approveTrade.valueStr="".concat(I.fromWei(t,T.TOKEN_DECIMALS)," ").concat(T.TOKEN_SYMBOL)),e.$robonomics.web3.eth.getBalance(e.$robonomics.account.address,(function(t,n){e.balanceEth.value=new Me.a.utils.BN(n),e.balanceEth.valueStr="".concat(I.fromWei(n,18)," ETH")}))}))},sendApproveTrade:function(){var e=this;return this.proccess=Pe.BTN,this.token.methods.approve(this.$robonomics.factory.address,I.toWei(this.price,T.TOKEN_DECIMALS)).send({from:this.$robonomics.account.address},(function(t,n){t||(e.proccess=Pe.TX,e.tx=n)})).then((function(t){var n=function t(n,a){e.$robonomics.web3.eth.getBlockNumber((function(e,s){s<n?setTimeout((function(){t(n,a)}),1e3):a()}))};n(t.blockNumber,(function(){e.proccess=Pe.FINISH,e.tx=null,e.fetchData()}))})).catch((function(){e.proccess=Pe.EMPTY}))},order:function(){var e=this;return this.$refs.form.validate()&&Number(this.price)>0&&(this.liability=null,this.loadingOrder=!0,this.$robonomics.web3.eth.getBlockNumber((function(t,n){var a={model:e.market,objective:e.objective,token:e.token.address,cost:I.toWei(e.price,T.TOKEN_DECIMALS),lighthouse:e.$robonomics.lighthouse.address,validator:"0x0000000000000000000000000000000000000000",validatorFee:0,deadline:n+1e5};e.$robonomics.sendDemand(a,!1,(function(t){g.a.post(T.AUCTION_API+"/demand/",t.toObject()).then((function(t){console.log(t.data.result),e.loadingOrder=!1})).catch((function(){e.loadingOrder=!1}))})).catch((function(){e.loadingOrder=!1}))}))),!1}}},Be=Le,Fe=Object(Y["a"])(Be,Ae,Ie,!1,null,null,null),De=Fe.exports,Ge=function(e){var t="";return e=e.replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/),void 0!==e[2]?(t=e[2].split(/[^0-9a-z_-]/i),t=t[0]):t=e,t},We={props:["idAuction"],components:{Page:pe,Bid:De},data:function(){return{title:"Auction",status:"auction",minCost:0,dateStart:"",dateEnd:"",bid:0,account:"",objective:"",vid:"",liability:""}},computed:{video:function(){return"https://gateway.pinata.cloud/ipfs/".concat(this.vid)}},created:function(){var e=this,t=function(t){e.status=t.status,e.liability=t.liability,e.dateStart=xe(t.dateStart),e.dateEnd=xe(t.dateEnd),e.bid="".concat(I.fromWei(Number(t.cost),T.TOKEN_DECIMALS).toString()," XRT"),e.minCost=Number(t.cost)+(Number(t.cost)>0?Number(T.PRICE_STEP):Number(T.PRICE_MIN)),e.account=t.account,e.objective=t.objective,e.vid=Ge(t.vid),e.title='Auction for the picture "'+(null!==t.name&&t.name.length>0?String(t.name):"")+'"',document.title=e.title};ke.on("auction",(function(n){Number(n.index)===Number(e.idAuction)&&t(n.auction)})),g.a.get(T.AUCTION_API+"/auction/"+this.idAuction).then((function(e){t(e.data.result)}))},methods:{onChangeAccount:function(){window.location.reload(!1)}}},$e=We,Ke=Object(Y["a"])($e,Ce,Ne,!1,null,null,null),ze=Ke.exports;a["default"].use(re["a"]);var Qe=new re["a"]({routes:[{path:"/",name:"info",component:Ee},{path:"/auction/:idAuction",name:"auction",component:ze,props:!0},{path:"*",redirect:"/"}]}),qe=n("b054"),Ye=n.n(qe),Ue=n("ade3"),Je={},Ve={};function He(e){var t=b();return t.web3.utils.isAddress(e)?t.web3.utils.toChecksumAddress(e):e}function Ze(e){var t=b();return new d["Token"](t.web3,e)}function Xe(e,t,n,a){e.events.allEvents((function(s,r){s||(t&&t(r),n&&ot(e,n),a&&it(e,a))}))}function et(e,t){Je[e]||(Je[e]=[]),Je[e].push(t)}function tt(e,t,n){Ve[e]||(Ve[e]=[]),Ve[e].push({from:t,to:n})}function nt(e,t){return e.methods.balanceOf(t).call()}function at(e,t,n){return e.methods.allowance(t,n).call()}function st(e){return rt.apply(this,arguments)}function rt(){return rt=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.methods.name().call();case 2:return n=e.sent,e.next=5,t.methods.decimals().call();case 5:return a=e.sent,e.next=8,t.methods.symbol().call();case 8:return s=e.sent,e.abrupt("return",{name:n,decimals:parseInt(a),symbol:s});case 10:case"end":return e.stop()}}),e)}))),rt.apply(this,arguments)}function ot(e,t){Je[e.address]&&Je[e.address].forEach((function(n){nt(e,n).then((function(a){t(e.address,n,a)}))}))}function it(e,t){Ve[e.address]&&Ve[e.address].forEach((function(n){at(e,n.from,n.to).then((function(a){t(e.address,n.from,n.to,a)}))}))}var ct={list:{},balance:{},allowance:{}},ut={token:function(e){return function(t){return t=He(t),e.list[t]?e.list[t]:{name:"",decimals:0,symbol:""}}},balance:function(e){return function(t,n){return t=He(t),n=He(n),e.balance[t]&&e.balance[t][n]?e.balance[t][n]:0}},balanceFormat:function(e,t){return function(e,n){e=He(e),n=He(n);var s=t.balance(e,n),r=t.token(e);return a["default"].options.filters.fromWei(s,r?r.decimals:0,r?r.symbol:"")}},allowance:function(e){return function(t,n,a){return t=He(t),n=He(n),a=He(a),e.allowance[t]&&e.allowance[t][n]&&e.allowance[t][n][a]?e.allowance[t][n][a]:0}},allowanceFormat:function(e,t){return function(e,n,s){e=He(e),n=He(n),s=He(s);var r=t.allowance(e,n,s),o=t.token(e);return a["default"].options.filters.fromWei(r,o?o.decimals:0,o?o.symbol:"")}}},lt={add:function(e,t){var n=e.commit,a=e.dispatch,s=e.state;if(!s.list[t]){n("add",t);var r=Ze(t);Xe(r,(function(){}),(function(e,t,n){a("setBalance",{token:r.address,account:t,value:n})}),(function(e,t,n,s){a("setAllowance",{token:r.address,from:t,to:n,value:s})})),st(r).then((function(e){a("setInfo",{address:r.address,info:e})}))}},setInfo:function(e,t){var n=e.commit,a=t.address,s=t.info;n("info",{address:a,info:s})},watchBalance:function(e,t){var n=e.dispatch,a=e.state,s=t.token,r=t.account;s=He(s),r=He(r),a.balance[s]&&a.balance[s][r]||(et(s,r),nt(Ze(s),r).then((function(e){n("setBalance",{token:s,account:r,value:e})})))},watchAllowance:function(e,t){var n=e.dispatch,a=e.state,s=t.token,r=t.from,o=t.to;s=He(s),r=He(r),o=He(o),a.balance[s]&&a.balance[s][r]&&a.balance[s][r][o]||(tt(s,r,o),at(Ze(s),r,o).then((function(e){n("setAllowance",{token:s,from:r,to:o,value:e})})))},setBalance:function(e,t){var n=e.commit,a=t.token,s=t.account,r=t.value;a=He(a),s=He(s),n("balance",{token:a,account:s,value:r})},setAllowance:function(e,t){var n=e.commit,a=t.token,s=t.from,r=t.to,o=t.value;a=He(a),s=He(s),r=He(r),n("allowance",{token:a,from:s,to:r,value:o})}},dt={add:function(e,t){e.list=Object(o["a"])(Object(o["a"])({},e.list),{},Object(Ue["a"])({},t,{name:"",decimals:0,symbol:""}))},info:function(e,t){var n=t.address,a=t.info;e.list=Object(o["a"])(Object(o["a"])({},e.list),{},Object(Ue["a"])({},n,a))},balance:function(e,t){var n=t.token,a=t.account,s=t.value;e.balance=Object(o["a"])(Object(o["a"])({},e.balance),{},Object(Ue["a"])({},n,Object(o["a"])(Object(o["a"])({},e.balance[n]),{},Object(Ue["a"])({},a,s))))},allowance:function(e,t){var n=t.token,a=t.from,s=t.to,r=t.value;e.allowance=Object(o["a"])(Object(o["a"])({},e.allowance),{},Object(Ue["a"])({},n,Object(o["a"])(Object(o["a"])({},e.allowance[n]),{},Object(Ue["a"])({},a,Object(Ue["a"])({},s,r)))))}},ht={namespaced:!0,state:ct,getters:ut,actions:lt,mutations:dt};function pt(){return window.ethereum?(window.ethereum.autoRefreshOnNetworkChange=!1,{type:1,provider:window.ethereum}):window.web3?(console.warn("warrning old metamask"),{type:2,provider:window.web3.currentProvider}):(console.log("web3 fallback"),{type:3,provider:new Me.a.providers.WebsocketProvider("wss://mainnet.infura.io/ws/v3/"+T.INFURA_KEY)})}function ft(e){return mt.apply(this,arguments)}function mt(){return mt=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.eth.getAccounts();case 2:if(n=e.sent,!(n.length>0)){e.next=5;break}return e.abrupt("return",t.utils.toChecksumAddress(n[0]));case 5:throw new Error("not account");case 6:case"end":return e.stop()}}),e)}))),mt.apply(this,arguments)}function bt(){return vt.apply(this,arguments)}function vt(){return vt=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.ethereum.request({method:"eth_requestAccounts"});case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e["catch"](0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),vt.apply(this,arguments)}function gt(){return wt.apply(this,arguments)}function wt(){return wt=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(window.ethereum){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,window.ethereum.request({method:"eth_accounts"});case 5:return t=e.sent,e.abrupt("return",!!t.length);case 9:return e.prev=9,e.t0=e["catch"](2),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),wt.apply(this,arguments)}var _t=!1,kt=!0,yt={isReady:!1,error:null,networkId:null,account:null,getWeb3:null,typeProvider:null},jt={},xt={init:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function n(){var a,s,r,o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,n.prev=1,s=pt(),a("typeProvider",s.type),r=new Me.a(s.provider),a("web3",r),n.next=8,r.eth.net.getId();case 8:if(o=n.sent,a("networkId",o),t.includes(String(o))){n.next=14;break}a("error",1),n.next=56;break;case 14:if(i=0,!r||1!==s.type){n.next=43;break}if(window.ethereum.on("chainChanged",(function(e){a("networkId",Number(e))})),window.ethereum.on("accountsChanged",(function(e){e.length>0?a("account",r.utils.toChecksumAddress(e[0])):a("account",null)})),n.t0=_t,n.t0){n.next=23;break}return n.next=22,gt();case 22:n.t0=n.sent;case 23:if(!n.t0){n.next=41;break}return n.next=26,bt();case 26:if(!n.sent){n.next=40;break}return n.prev=27,n.t1=a,n.next=31,ft(r);case 31:n.t2=n.sent,(0,n.t1)("account",n.t2),n.next=38;break;case 35:n.prev=35,n.t3=n["catch"](27),i=2;case 38:n.next=41;break;case 40:kt&&(i=3,console.log("not access"));case 41:n.next=55;break;case 43:if(!r||2!==s.type){n.next=55;break}return n.prev=44,n.t4=a,n.next=48,ft(r);case 48:n.t5=n.sent,(0,n.t4)("account",n.t5),n.next=55;break;case 52:n.prev=52,n.t6=n["catch"](44),i=2;case 55:i>0?a("error",i):a("isReady",!0);case 56:n.next=61;break;case 58:n.prev=58,n.t7=n["catch"](1),console.log(n.t7);case 61:case"end":return n.stop()}}),n,null,[[1,58],[27,35],[44,52]])})))()},accessAccount:function(e){var t=arguments;return Object(l["a"])(regeneratorRuntime.mark((function n(){var a,s,r,o,i,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=e.commit,s=e.state,r=!(t.length>1&&void 0!==t[1])||t[1],o=s.getWeb3(),i=s.typeProvider,c=0,!o||1!==i){n.next=26;break}return n.next=8,bt();case 8:if(!n.sent){n.next=22;break}return n.prev=9,n.t0=a,n.next=13,ft(o);case 13:n.t1=n.sent,(0,n.t0)("account",n.t1),n.next=20;break;case 17:n.prev=17,n.t2=n["catch"](9),c=2;case 20:n.next=24;break;case 22:c=3,console.log("not access");case 24:n.next=38;break;case 26:if(!o||2!==i){n.next=38;break}return n.prev=27,n.t3=a,n.next=31,ft(o);case 31:n.t4=n.sent,(0,n.t3)("account",n.t4),n.next=38;break;case 35:n.prev=35,n.t5=n["catch"](27),c=2;case 38:r&&(c>0?a("error",c):a("isReady",!0));case 39:case"end":return n.stop()}}),n,null,[[9,17],[27,35]])})))()}},Tt={typeProvider:function(e,t){e.typeProvider=t},web3:function(e,t){e.getWeb3=function(){return t}},account:function(e,t){e.account=t},networkId:function(e,t){e.networkId=t},isReady:function(e,t){e.isReady=t,e.error=null},error:function(e,t){e.error=t,e.isReady=!1}},St={namespaced:!0,state:yt,getters:jt,actions:xt,mutations:Tt};a["default"].use(i["a"]);var Ot=!1,Et=new i["a"].Store({modules:{tokens:ht,chain:St},strict:!0,plugins:Ot?[Ye()()]:[]}),Ct=n("3f08");function Nt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=I.fromWei(e,t);if(a>0){var r=s.indexOf(".");r>=0&&(s=s.substr(0,r+a+1))}return"".concat(s).concat(n?" ":"").concat(n)}a["default"].use(Ct["a"].Plugin);var At=function(e){return e.slice(0,6)+"..."+e.slice(-4)};a["default"].filter("fromWei",Nt),a["default"].filter("labelAddress",At),K({ipfs:{cdn:"ipfs.min.js",fallback:T.ipfs},statusPeers:T.statusPeers,robonomics:function(e){return T.chain.set(e),Object(o["a"])({version:5},T.chain.get().ROBONOMICS)}});var It=n("ce5b"),Rt=n.n(It);n("bf40");a["default"].use(Rt.a);var Mt={},Pt=new Rt.a(Mt);a["default"].config.productionTip=!1,new a["default"]({store:Et,router:Qe,vuetify:Pt,render:function(e){return e(se)}}).$mount("#app")},6:function(e,t){},7:function(e,t){},"77c1":function(e,t,n){"use strict";n("cd65")},8:function(e,t){},9:function(e,t){},cd65:function(e,t,n){},d340:function(e,t,n){"use strict";n("db60")},d4a2:function(e,t,n){"use strict";n("fef5")},db60:function(e,t,n){},fef5:function(e,t,n){}});
//# sourceMappingURL=app.5511bfbb.js.map